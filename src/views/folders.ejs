<%- include('./partials/header.ejs')%>
    <main>
        <div class="container">
            <%- include('./partials/table-header.ejs') %>
                <div class="new-folder-form-container">
                    <form id="new-folder-form" class="new-folder-form hidden" action="/folders/new" method="POST"
                        autocomplete="off">
                        <img src="icons/folder-plus.svg" alt="folder plus icon" class="icon">
                        <h2>New Folder</h2>
                        <div class="input-wrapper">
                            <label for="folderName">Folder name</label>
                            <input type="text" id="folderName" name="name" placeholder="Your folder name">
                        </div>
                        <div class="btns-container">
                            <button type="reset" id="new-folder-cancel-btn" class="btn">Cancel</button>
                            <button type="submit" class="btn blue">Create</button>
                        </div>
                    </form>
                </div>
                <% if (locals.folders.length> 0) { %>
                    <table class="contents-table">
                        <thead>
                            <tr>
                                <th>Folder name</th>
                                <th>Uploaded on</th>
                                <th>Last modified</th>
                                <th>Files</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% locals.folders.forEach((folder)=> { %>
                                <tr>
                                    <td>
                                        <a href="/folders/<%= folder.id %>" class="table-row-link"></a>
                                        <%= folder.name %>
                                    </td>
                                    <td>
                                        <%= folder.displayCreatedAt %>
                                    </td>
                                    <td>
                                        <%= folder.displayUpdatedAt %>
                                    </td>
                                    <td>
                                        <%= folder.filesCount %>
                                    </td>
                                </tr>
                                <% }); %>
                        </tbody>
                    </table>
                    <% } else { %>
                        <div class="no-results">
                            <p>No folders found</p>
                        </div>
                        <% }%>
        </div>
    </main>
    <%- include('./partials/footer.ejs')%>